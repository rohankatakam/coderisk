# CodeRisk Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# GitHub Configuration
# =============================================================================
# Required: GitHub Personal Access Token for repository access
# Get one at: https://github.com/settings/tokens
# Scopes needed: repo (for private repos) or public_repo (for public only)
GITHUB_TOKEN=ghp_your_github_token_here

# Optional: GitHub API rate limit (requests per second)
# Default: 10 req/s - increase if you have higher limits
GITHUB_RATE_LIMIT=10

# =============================================================================
# OpenAI Configuration (Optional - for Level 3 analysis)
# =============================================================================
# OpenAI API key for enhanced risk analysis
# Get one at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your_openai_key_here

# OpenAI model to use (default: gpt-4o-mini for cost efficiency)
OPENAI_MODEL=gpt-4o-mini

# =============================================================================
# Custom LLM Endpoints (Enterprise)
# =============================================================================
# For enterprise deployments with custom LLM endpoints
CUSTOM_LLM_URL=https://your-enterprise-llm.company.com/v1
CUSTOM_LLM_KEY=your_custom_llm_api_key

# Custom embedding endpoint
CUSTOM_EMBEDDING_URL=https://your-enterprise-embeddings.company.com/v1
CUSTOM_EMBEDDING_KEY=your_custom_embedding_key

# =============================================================================
# Database Configuration
# =============================================================================
# Storage type: sqlite (local) or postgres (production)
STORAGE_TYPE=sqlite

# PostgreSQL connection string (if using postgres)
POSTGRES_DSN=postgres://username:password@localhost:5432/coderisk?sslmode=disable

# Local SQLite path (if using sqlite)
LOCAL_DB_PATH=~/.coderisk/local.db

# =============================================================================
# Cache Configuration
# =============================================================================
# Local cache directory
CACHE_DIRECTORY=~/.coderisk/cache

# Shared team cache URL (if using shared cache)
SHARED_CACHE_URL=https://cache.yourteam.com/api/v1

# Cache size limit (in bytes) - default 2GB
CACHE_MAX_SIZE=2147483648

# =============================================================================
# Budget and Cost Controls
# =============================================================================
# Daily spending limit (USD)
BUDGET_DAILY_LIMIT=2.00

# Monthly spending limit (USD)
BUDGET_MONTHLY_LIMIT=60.00

# Per-check spending limit (USD)
BUDGET_PER_CHECK_LIMIT=0.04

# =============================================================================
# Sync Configuration
# =============================================================================
# Auto-sync with team cache (true/false)
SYNC_AUTO_SYNC=true

# How fresh cache should be before auto-sync (in minutes)
SYNC_FRESH_THRESHOLD_MINUTES=30

# How stale cache can be before forced sync (in hours)
SYNC_STALE_THRESHOLD_HOURS=4

# =============================================================================
# Risk Calculation Settings
# =============================================================================
# Default analysis level (1=fast, 2=standard, 3=deep)
RISK_DEFAULT_LEVEL=1

# Risk thresholds (0.0 - 1.0)
RISK_LOW_THRESHOLD=0.25
RISK_MEDIUM_THRESHOLD=0.50
RISK_HIGH_THRESHOLD=0.75
RISK_CRITICAL_THRESHOLD=0.90

# =============================================================================
# Deployment Mode
# =============================================================================
# Deployment mode: local, team, enterprise, oss
CODERISK_MODE=team

# =============================================================================
# Development/Debug Settings
# =============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable verbose output
VERBOSE=false

# Development mode (enables additional logging)
DEV_MODE=false